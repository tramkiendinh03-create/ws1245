{"version":3,"file":"index.js","mappings":"4EAAA,MAAM,EAA+BA,ICE/BC,EAAa,CAAEC,MAAO,mFACtBC,EAAa,CAAED,MAAO,mKACtBE,EAAa,CAAEF,MAAO,mCACtBG,EAAa,CAAEH,MAAO,0BACtBI,EAAa,CAAEJ,MAAO,aACtBK,EAAa,CAAEL,MAAO,aACtBM,EAAa,CAAEN,MAAO,aACtBO,EAAa,CAAEP,MAAO,wBACtBQ,EAAa,CAAC,WACdC,EAAc,CAAET,MAAO,aACvBU,EAAc,CAAEV,MAAO,kDACvBW,EAAc,CAAC,YCRrB,GDU6B,qBAAiB,CAC1CC,OAAQ,MACR,KAAAC,CAAMC,GACF,MAAMC,EAAmB,CAAC,UAAW,WAAY,SAAU,UAAW,UAChEC,GAAO,IAAAC,UAAS,CAClBC,KAAM,GACNC,OAAQ,GACRC,SAAU,GACVC,MAAO,KAELC,GAAS,IAAAC,KAAI,QACbC,GAAa,IAAAD,KAAI,QACjBE,GAAU,IAAAF,MAAI,GACdG,GAAc,IAAAC,UAAS,IACA,OAArBH,EAAWI,MACJ,mBACc,SAArBJ,EAAWI,MACJ,iBACJ,uBAEX,SAASC,EAAUC,EAAMC,EAAO,QAC5BT,EAAOM,MAAQE,EACfN,EAAWI,MAAQG,CACvB,CACA,SAASC,IACL,MAAMd,EAAOF,EAAKE,KAAKe,OACjBd,EAASH,EAAKG,OAAOc,OACrBb,EAAWJ,EAAKI,SAASa,OACzBZ,EAAQL,EAAKK,MAAMY,OACzB,IAAKf,IAASC,IAAWC,EACrB,MAAO,CAAEc,IAAI,EAAOC,QAAS,yBAajC,MAAO,CAAED,IAAI,EAAMJ,KAXL,CACV,WACA,MAAMZ,IACN,MAAMC,IACN,QAAQC,IACR,QAAQC,GAAS,MACjB,GACA,kCACA,4BACA,wCAE2Be,KAAK,MACxC,CAKA,SAASC,IACLrB,EAAKE,KAAO,GACZF,EAAKG,OAAS,GACdH,EAAKI,SAAW,GAChBJ,EAAKK,MAAQ,GACbQ,EAAU,QACd,CACAS,eAAeC,IACX,MAAMC,EAAQR,IACd,GAAKQ,EAAMN,GAIX,IACI,GAAIO,UAAUC,WAAWC,gBACfF,UAAUC,UAAUC,UAAUH,EAAMV,UAEzC,CACD,MAAMc,EAAKC,SAASC,cAAc,YAClCF,EAAGhB,MAAQY,EAAMV,KACjBe,SAASE,KAAKC,YAAYJ,GAC1BA,EAAGK,SACHJ,SAASK,YAAY,QACrBN,EAAGO,QACP,CACAtB,EAAU,WAAY,KAC1B,CACA,MAAOuB,GACHvB,EAAU,QAAQuB,aAAiBC,MAAQD,EAAMjB,QAAUmB,OAAOF,KAAU,OAChF,MAnBIvB,EAAU,YAAaW,EAAQA,EAAML,QAAU,QAAS,OAoBhE,CACAG,eAAeiB,IACX,MAAMf,EAAQR,IACd,GAAKQ,EAAMN,GAIX,GAAmC,mBAAxBsB,WAAWC,SAItB,GAA6C,mBAAlCD,WAAWE,mBAAtB,CAIAjC,EAAQG,OAAQ,EAChBC,EAAU,sBAAuB,QACjC,IACI,MAAM8B,EAAanB,EAAMV,WACnB0B,WAAWE,mBAAmB,CAChC,CAAEE,KAAM,OAAQzB,QAASwB,GACzB,CAAEC,KAAM,YAAazB,QAAS,WAC/B,CAAE0B,QAAS,aACd,MAAMC,EAAoD,mBAAhCN,WAAWO,iBAC/BC,EAA+C,mBAA/BR,WAAWS,gBAC3BC,EAAgBJ,EAAaN,WAAWO,wBAAqBI,EACnEtC,EAAU,eAAgB,QAC1B,MAAMuC,QAAuBZ,WAAWC,SAAS,CAC7CY,WAAYV,EACZW,gBAAgB,IAEhBN,GAAmC,iBAAlBE,QACXV,WAAWS,gBAAgB,CAAC,CAAEM,WAAYL,EAAe/B,QAASiC,IAAmB,CACvFP,QAAS,mBAIPL,WAAWE,mBAAmB,CAAC,CAAEE,KAAM,YAAazB,QAASiC,IAAmB,CAClFP,QAAS,aAGjBhC,EAAU,qBAAsB,KACpC,CACA,MAAOuB,GACHvB,EAAU,WAAWuB,aAAiBC,MAAQD,EAAMjB,QAAUmB,OAAOF,KAAU,OACnF,CACA,QACI3B,EAAQG,OAAQ,CACpB,CAlCA,MAFIC,EAAU,wCAAyC,aAJnDA,EAAU,8BAA+B,aAJzCA,EAAU,YAAaW,EAAQA,EAAML,QAAU,QAAS,OA6ChE,CACA,MAAO,CAACqC,EAAMC,MACF,kBAAc,wBAAoB,MAAO1E,EAAY,EACzD,wBAAoB,UAAWE,EAAY,CACvCwE,EAAO,MAAQA,EAAO,KAAM,wBAAoB,MAAO,CAAEzE,MAAO,wCAA0C,EACtG,wBAAoB,MAAO,CAAEA,MAAO,kFACpC,wBAAoB,MAAO,CAAEA,MAAO,qGACpC,wBAAoB,MAAO,CAAEA,MAAO,sGACpC,KACJ,wBAAoB,MAAOE,EAAY,CACnCuE,EAAO,MAAQA,EAAO,KAAM,wBAAoB,SAAU,CAAEzE,MAAO,4DAA8D,EAC7H,wBAAoB,KAAM,CAAEA,MAAO,wDAA0D,WAC7F,wBAAoB,IAAK,CAAEA,MAAO,iDAAmD,oBACrF,IACJyE,EAAO,MAAQA,EAAO,KAAM,wBAAoB,MAAO,CAAEzE,MAAO,6OAA+O,mBAAoB,KACnU,wBAAoB,MAAOG,EAAY,EACnC,wBAAoB,QAASC,EAAY,CACrCqE,EAAO,KAAOA,EAAO,IAAK,wBAAoB,OAAQ,CAAEzE,MAAO,+BAAiC,EAC5F,qBAAiB,QACjB,wBAAoB,OAAQ,CAAEA,MAAO,iBAAmB,OACxD,KACJ,qBAAgB,wBAAoB,QAAS,CACzC,sBAAuByE,EAAO,KAAOA,EAAO,GAAMC,GAAa1D,EAAS,KAAI0D,GAC5E3C,KAAM,OACN4C,YAAa,WACb3E,MAAO,6NACR,KAAM,KAAuB,CAC5B,CACI,aACAgB,EAAKE,UACA,EACL,CAAEe,MAAM,SAIpB,wBAAoB,QAAS5B,EAAY,CACrCoE,EAAO,KAAOA,EAAO,IAAK,wBAAoB,OAAQ,CAAEzE,MAAO,+BAAiC,EAC5F,qBAAiB,QACjB,wBAAoB,OAAQ,CAAEA,MAAO,iBAAmB,OACxD,KACJ,qBAAgB,wBAAoB,SAAU,CAC1C,sBAAuByE,EAAO,KAAOA,EAAO,GAAMC,GAAa1D,EAAW,OAAI0D,GAC9E1E,MAAO,6LACR,IAAKyE,EAAO,KAAOA,EAAO,GAAK,EAC1B,uBAAmB,oJAA+J,MAChL,KAAuB,CAC7B,CAAC,eAAezD,EAAKG,aAG7B,wBAAoB,QAASb,EAAY,CACrCmE,EAAO,KAAOA,EAAO,IAAK,wBAAoB,OAAQ,CAAEzE,MAAO,+BAAiC,EAC5F,qBAAiB,UACjB,wBAAoB,OAAQ,CAAEA,MAAO,iBAAmB,OACxD,KACJ,qBAAgB,wBAAoB,WAAY,CAC5C,sBAAuByE,EAAO,KAAOA,EAAO,GAAMC,GAAa1D,EAAa,SAAI0D,GAChFE,KAAM,IACND,YAAa,6BACb3E,MAAO,6NACR,KAAM,KAAuB,CAC5B,CACI,aACAgB,EAAKI,cACA,EACL,CAAEa,MAAM,SAIpB,wBAAoB,MAAO,KAAM,CAC7BwC,EAAO,KAAOA,EAAO,IAAK,wBAAoB,IAAK,CAAEzE,MAAO,oCAAsC,gBAAiB,KACnH,wBAAoB,MAAOO,EAAY,GAClC,kBAAc,wBAAoB,WAAW,MAAM,gBAAYQ,EAAmB8D,IACxE,wBAAoB,SAAU,CACjCC,IAAKD,EACL7E,MAAO,gKACP+E,QAAUL,GA9J9C,SAAsBG,GAClB7D,EAAKI,SAAWyD,EAChBhD,EAAU,UACd,CA2JyD,CAAcgD,KACpC,qBAAiBA,GAAO,EAAqBrE,IAChD,UAGZ,wBAAoB,QAASC,EAAa,CACtCgE,EAAO,KAAOA,EAAO,IAAK,wBAAoB,OAAQ,CAAEzE,MAAO,+BAAiC,YAAa,KAC7G,qBAAgB,wBAAoB,WAAY,CAC5C,sBAAuByE,EAAO,KAAOA,EAAO,GAAMC,GAAa1D,EAAU,MAAI0D,GAC7EE,KAAM,IACND,YAAa,gCACb3E,MAAO,6NACR,KAAM,KAAuB,CAC5B,CACI,aACAgB,EAAKK,WACA,EACL,CAAEY,MAAM,WAKxB,wBAAoB,MAAOvB,EAAa,EACpC,wBAAoB,SAAU,CAC1BsE,SAAUvD,EAAQG,MAClB5B,MAAO,uQACP+E,QAASxB,GACV,SAAU,EAAe5C,IAC5B,wBAAoB,SAAU,CAC1BX,MAAO,6GACP+E,QAASxC,GACV,aACH,wBAAoB,SAAU,CAC1BvC,MAAO,6GACP+E,QAAS1C,GACV,WACH,wBAAoB,OAAQ,CACxBrC,OAAO,oBAAgB,CAAC0B,EAAYE,MAAO,yBAC5C,qBAAiBN,EAAOM,OAAQ,WAM3D,IElQJqD,EAAE,KACE,MAAMC,GAAM,IAAAC,WAAUC,GAAKC,IAAI,KAC/BH,EAAII,MAAM,QACVL,EAAEM,QAAQC,GAAG,WAAY,IAAMN,EAAIO","sources":["src://tavern_helper_template/external var \"Vue\"","webpack://tavern_helper_template/src/种付官/开局表格/App.vue?fbd1","webpack://tavern_helper_template/src/种付官/开局表格/App.vue?b301","webpack://tavern_helper_template/src/种付官/开局表格/index.ts?d225"],"sourcesContent":["const __WEBPACK_NAMESPACE_OBJECT__ = Vue;","/* unplugin-vue-components disabled */import { defineComponent as _defineComponent } from 'vue';\nimport { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, vModelText as _vModelText, withDirectives as _withDirectives, vModelSelect as _vModelSelect, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, createStaticVNode as _createStaticVNode } from \"vue\";\nconst _hoisted_1 = { class: \"mx-auto flex w-full max-w-[980px] items-center justify-center p-2 sm:p-3 md:p-4\" };\nconst _hoisted_2 = { class: \"relative w-full overflow-hidden rounded-[1.6rem] border border-fuchsia-300/30 bg-[#120714] shadow-[0_25px_80px_rgba(0,0,0,0.65),0_0_35px_rgba(255,90,220,0.22)]\" };\nconst _hoisted_3 = { class: \"relative z-10 p-4 sm:p-5 md:p-6\" };\nconst _hoisted_4 = { class: \"grid grid-cols-1 gap-4\" };\nconst _hoisted_5 = { class: \"space-y-2\" };\nconst _hoisted_6 = { class: \"space-y-2\" };\nconst _hoisted_7 = { class: \"space-y-2\" };\nconst _hoisted_8 = { class: \"flex flex-wrap gap-2\" };\nconst _hoisted_9 = [\"onClick\"];\nconst _hoisted_10 = { class: \"space-y-2\" };\nconst _hoisted_11 = { class: \"mt-5 flex flex-wrap items-center gap-3 sm:mt-6\" };\nconst _hoisted_12 = [\"disabled\"];\nimport { computed, reactive, ref } from 'vue';\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'App',\n    setup(__props) {\n        const identityExamples = ['成熟御姐女教师', '危险美艳黑帮夫人', '娇纵财阀千金', '清冷病娇研究员', '温柔人妻邻居'];\n        const form = reactive({\n            name: '',\n            gender: '',\n            identity: '',\n            extra: '',\n        });\n        const notice = ref('等待填写');\n        const noticeType = ref('info');\n        const sending = ref(false);\n        const noticeClass = computed(() => {\n            if (noticeType.value === 'ok')\n                return 'text-emerald-300';\n            if (noticeType.value === 'warn')\n                return 'text-amber-300';\n            return 'text-fuchsia-200/80';\n        });\n        function setNotice(text, type = 'info') {\n            notice.value = text;\n            noticeType.value = type;\n        }\n        function buildPrompt() {\n            const name = form.name.trim();\n            const gender = form.gender.trim();\n            const identity = form.identity.trim();\n            const extra = form.extra.trim();\n            if (!name || !gender || !identity) {\n                return { ok: false, message: '请完整填写 姓名 / 性别 / 身份标识。' };\n            }\n            const lines = [\n                '【开局角色设定】',\n                `姓名：${name}`,\n                `性别：${gender}`,\n                `身份标识：${identity}`,\n                `额外设定：${extra || '无'}`,\n                '',\n                '请基于以上设定，生成一段适合作为当前聊天开局推进的第一幕内容。',\n                '要求：保持沉浸感、情绪张力、环境细节与人物行动感。',\n                '务必生成并补全“其它尚未填写的变量”，保证变量结构完整且数值、状态合理。',\n            ];\n            return { ok: true, text: lines.join('\\n') };\n        }\n        function applyExample(item) {\n            form.identity = item;\n            setNotice('已填入示例身份');\n        }\n        function resetForm() {\n            form.name = '';\n            form.gender = '';\n            form.identity = '';\n            form.extra = '';\n            setNotice('已清空表单');\n        }\n        async function copyPrompt() {\n            const built = buildPrompt();\n            if (!built.ok) {\n                setNotice('message' in built ? built.message : '输入不完整', 'warn');\n                return;\n            }\n            try {\n                if (navigator.clipboard?.writeText) {\n                    await navigator.clipboard.writeText(built.text);\n                }\n                else {\n                    const ta = document.createElement('textarea');\n                    ta.value = built.text;\n                    document.body.appendChild(ta);\n                    ta.select();\n                    document.execCommand('copy');\n                    ta.remove();\n                }\n                setNotice('设定文本已复制。', 'ok');\n            }\n            catch (error) {\n                setNotice(`复制失败：${error instanceof Error ? error.message : String(error)}`, 'warn');\n            }\n        }\n        async function sendAndGenerate() {\n            const built = buildPrompt();\n            if (!built.ok) {\n                setNotice('message' in built ? built.message : '输入不完整', 'warn');\n                return;\n            }\n            if (typeof globalThis.generate !== 'function') {\n                setNotice('未检测到 generate()，无法触发 AI 生成。', 'warn');\n                return;\n            }\n            if (typeof globalThis.createChatMessages !== 'function') {\n                setNotice('未检测到 createChatMessages()，无法先行显示发送内容。', 'warn');\n                return;\n            }\n            sending.value = true;\n            setNotice('正在发送开局内容（你会立即看到消息）…', 'warn');\n            try {\n                const userPrompt = built.text;\n                await globalThis.createChatMessages([\n                    { role: 'user', message: userPrompt },\n                    { role: 'assistant', message: '（思考中…）' },\n                ], { refresh: 'affected' });\n                const hasGetLast = typeof globalThis.getLastMessageId === 'function';\n                const hasSet = typeof globalThis.setChatMessages === 'function';\n                const placeholderId = hasGetLast ? globalThis.getLastMessageId() : undefined;\n                setNotice('已发送，AI 正在思考…', 'warn');\n                const assistantReply = await globalThis.generate({\n                    user_input: userPrompt,\n                    should_silence: false,\n                });\n                if (hasSet && typeof placeholderId === 'number') {\n                    await globalThis.setChatMessages([{ message_id: placeholderId, message: assistantReply }], {\n                        refresh: 'affected',\n                    });\n                }\n                else {\n                    await globalThis.createChatMessages([{ role: 'assistant', message: assistantReply }], {\n                        refresh: 'affected',\n                    });\n                }\n                setNotice('已代你发送，AI 回复已更新到楼层。', 'ok');\n            }\n            catch (error) {\n                setNotice(`发送或生成失败：${error instanceof Error ? error.message : String(error)}`, 'warn');\n            }\n            finally {\n                sending.value = false;\n            }\n        }\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n                _createElementVNode(\"section\", _hoisted_2, [\n                    _cache[12] || (_cache[12] = _createElementVNode(\"div\", { class: \"pointer-events-none absolute inset-0\" }, [\n                        _createElementVNode(\"div\", { class: \"absolute inset-0 bg-gradient-to-br from-[#2a0d2f] via-[#140917] to-[#0a050f]\" }),\n                        _createElementVNode(\"div\", { class: \"absolute inset-0 bg-[radial-gradient(circle_at_12%_12%,rgba(255,130,225,0.28),transparent_40%)]\" }),\n                        _createElementVNode(\"div\", { class: \"absolute inset-0 bg-[radial-gradient(circle_at_88%_84%,rgba(165,110,255,0.22),transparent_38%)]\" })\n                    ], -1 /* CACHED */)),\n                    _createElementVNode(\"div\", _hoisted_3, [\n                        _cache[10] || (_cache[10] = _createElementVNode(\"header\", { class: \"mb-4 border-b border-fuchsia-200/20 pb-3 sm:mb-5 sm:pb-4\" }, [\n                            _createElementVNode(\"h1\", { class: \"mt-1 text-2xl font-bold text-fuchsia-100 sm:text-3xl\" }, \"开局身份录入\"),\n                            _createElementVNode(\"p\", { class: \"mt-2 text-sm text-fuchsia-100/75 sm:text-base\" }, \"填写开局身份信息，一键开局。\")\n                        ], -1 /* CACHED */)),\n                        _cache[11] || (_cache[11] = _createElementVNode(\"div\", { class: \"mb-4 flex h-[78px] items-center justify-center rounded-xl border border-fuchsia-300/35 bg-gradient-to-br from-fuchsia-400/10 to-violet-400/10 text-xs tracking-[0.2em] text-fuchsia-100/90 shadow-[inset_0_0_24px_rgba(255,120,210,0.14)]\" }, \" ✦ LUST CODE ✦ \", -1 /* CACHED */)),\n                        _createElementVNode(\"div\", _hoisted_4, [\n                            _createElementVNode(\"label\", _hoisted_5, [\n                                _cache[4] || (_cache[4] = _createElementVNode(\"span\", { class: \"text-sm text-fuchsia-100/90\" }, [\n                                    _createTextVNode(\"姓名 \"),\n                                    _createElementVNode(\"span\", { class: \"text-rose-300\" }, \"*\")\n                                ], -1 /* CACHED */)),\n                                _withDirectives(_createElementVNode(\"input\", {\n                                    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event) => ((form.name) = $event)),\n                                    type: \"text\",\n                                    placeholder: \"例如：雨宫 夜澪\",\n                                    class: \"w-full rounded-xl border border-fuchsia-300/30 bg-black/30 px-3 py-2.5 text-sm text-fuchsia-50 transition outline-none placeholder:text-fuchsia-200/35 focus:border-fuchsia-300/70 focus:ring-2 focus:ring-fuchsia-300/30\"\n                                }, null, 512 /* NEED_PATCH */), [\n                                    [\n                                        _vModelText,\n                                        form.name,\n                                        void 0,\n                                        { trim: true }\n                                    ]\n                                ])\n                            ]),\n                            _createElementVNode(\"label\", _hoisted_6, [\n                                _cache[6] || (_cache[6] = _createElementVNode(\"span\", { class: \"text-sm text-fuchsia-100/90\" }, [\n                                    _createTextVNode(\"性别 \"),\n                                    _createElementVNode(\"span\", { class: \"text-rose-300\" }, \"*\")\n                                ], -1 /* CACHED */)),\n                                _withDirectives(_createElementVNode(\"select\", {\n                                    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event) => ((form.gender) = $event)),\n                                    class: \"w-full rounded-xl border border-fuchsia-300/30 bg-black/30 px-3 py-2.5 text-sm text-fuchsia-50 transition outline-none focus:border-fuchsia-300/70 focus:ring-2 focus:ring-fuchsia-300/30\"\n                                }, [...(_cache[5] || (_cache[5] = [\n                                        _createStaticVNode(\"<option value=\\\"\\\">请选择</option><option value=\\\"男\\\">男</option><option value=\\\"女\\\">女</option><option value=\\\"扶她\\\">扶她</option><option value=\\\"男娘\\\">男娘</option>\", 5)\n                                    ]))], 512 /* NEED_PATCH */), [\n                                    [_vModelSelect, form.gender]\n                                ])\n                            ]),\n                            _createElementVNode(\"label\", _hoisted_7, [\n                                _cache[7] || (_cache[7] = _createElementVNode(\"span\", { class: \"text-sm text-fuchsia-100/90\" }, [\n                                    _createTextVNode(\"身份标识 \"),\n                                    _createElementVNode(\"span\", { class: \"text-rose-300\" }, \"*\")\n                                ], -1 /* CACHED */)),\n                                _withDirectives(_createElementVNode(\"textarea\", {\n                                    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event) => ((form.identity) = $event)),\n                                    rows: \"3\",\n                                    placeholder: \"例如：成熟御姐女教师｜危险美艳黑帮夫人｜娇纵财阀千金\",\n                                    class: \"w-full rounded-xl border border-fuchsia-300/30 bg-black/30 px-3 py-2.5 text-sm text-fuchsia-50 transition outline-none placeholder:text-fuchsia-200/35 focus:border-fuchsia-300/70 focus:ring-2 focus:ring-fuchsia-300/30\"\n                                }, null, 512 /* NEED_PATCH */), [\n                                    [\n                                        _vModelText,\n                                        form.identity,\n                                        void 0,\n                                        { trim: true }\n                                    ]\n                                ])\n                            ]),\n                            _createElementVNode(\"div\", null, [\n                                _cache[8] || (_cache[8] = _createElementVNode(\"p\", { class: \"mb-2 text-sm text-fuchsia-100/85\" }, \"身份标识示例（点击填入）\", -1 /* CACHED */)),\n                                _createElementVNode(\"div\", _hoisted_8, [\n                                    (_openBlock(), _createElementBlock(_Fragment, null, _renderList(identityExamples, (item) => {\n                                        return _createElementVNode(\"button\", {\n                                            key: item,\n                                            class: \"rounded-full border border-fuchsia-300/35 bg-fuchsia-400/10 px-3 py-1 text-xs text-fuchsia-100 transition hover:border-fuchsia-200/70 hover:bg-fuchsia-300/20\",\n                                            onClick: ($event) => (applyExample(item))\n                                        }, _toDisplayString(item), 9 /* TEXT, PROPS */, _hoisted_9);\n                                    }), 64 /* STABLE_FRAGMENT */))\n                                ])\n                            ]),\n                            _createElementVNode(\"label\", _hoisted_10, [\n                                _cache[9] || (_cache[9] = _createElementVNode(\"span\", { class: \"text-sm text-fuchsia-100/90\" }, \"额外设定（可选）\", -1 /* CACHED */)),\n                                _withDirectives(_createElementVNode(\"textarea\", {\n                                    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event) => ((form.extra) = $event)),\n                                    rows: \"3\",\n                                    placeholder: \"例如：性格偏好、禁忌、互动节奏、剧情雷点、服装风格、口癖等\",\n                                    class: \"w-full rounded-xl border border-fuchsia-300/30 bg-black/30 px-3 py-2.5 text-sm text-fuchsia-50 transition outline-none placeholder:text-fuchsia-200/35 focus:border-fuchsia-300/70 focus:ring-2 focus:ring-fuchsia-300/30\"\n                                }, null, 512 /* NEED_PATCH */), [\n                                    [\n                                        _vModelText,\n                                        form.extra,\n                                        void 0,\n                                        { trim: true }\n                                    ]\n                                ])\n                            ])\n                        ]),\n                        _createElementVNode(\"div\", _hoisted_11, [\n                            _createElementVNode(\"button\", {\n                                disabled: sending.value,\n                                class: \"rounded-xl border border-fuchsia-100/40 bg-gradient-to-r from-fuchsia-500/45 to-violet-500/45 px-4 py-2 text-sm font-semibold text-white transition enabled:hover:from-fuchsia-400/60 enabled:hover:to-violet-400/60 disabled:cursor-not-allowed disabled:opacity-60\",\n                                onClick: sendAndGenerate\n                            }, \" 一键开局 \", 8 /* PROPS */, _hoisted_12),\n                            _createElementVNode(\"button\", {\n                                class: \"rounded-xl border border-white/20 bg-white/10 px-4 py-2 text-sm text-white/90 transition hover:bg-white/20\",\n                                onClick: copyPrompt\n                            }, \" 复制设定文本 \"),\n                            _createElementVNode(\"button\", {\n                                class: \"rounded-xl border border-white/20 bg-white/10 px-4 py-2 text-sm text-white/90 transition hover:bg-white/20\",\n                                onClick: resetForm\n                            }, \" 清空表单 \"),\n                            _createElementVNode(\"span\", {\n                                class: _normalizeClass([noticeClass.value, \"text-xs sm:text-sm\"])\n                            }, _toDisplayString(notice.value), 3 /* TEXT, CLASS */)\n                        ])\n                    ])\n                ])\n            ]));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./App.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./App.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { createPinia } from 'pinia';\nimport { createApp } from 'vue';\nimport '../index.css';\nimport App from './App.vue';\n$(() => {\n    const app = createApp(App).use(createPinia());\n    app.mount('#app');\n    $(window).on('pagehide', () => app.unmount());\n});\n"],"names":["Vue","_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","__name","setup","__props","identityExamples","form","reactive","name","gender","identity","extra","notice","ref","noticeType","sending","noticeClass","computed","value","setNotice","text","type","buildPrompt","trim","ok","message","join","resetForm","async","copyPrompt","built","navigator","clipboard","writeText","ta","document","createElement","body","appendChild","select","execCommand","remove","error","Error","String","sendAndGenerate","globalThis","generate","createChatMessages","userPrompt","role","refresh","hasGetLast","getLastMessageId","hasSet","setChatMessages","placeholderId","undefined","assistantReply","user_input","should_silence","message_id","_ctx","_cache","$event","placeholder","rows","item","key","onClick","disabled","$","app","createApp","App","use","mount","window","on","unmount"],"sourceRoot":""}